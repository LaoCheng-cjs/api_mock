<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>登录</title>
    <link rel="stylesheet" type="text/css" href="./css/style.css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/vector.js"></script>
    <script src="./js/request.js"></script>
</head>

<body >
    <div id="container">
        <div id="output">
            <div class="containerT">
                <h1>用户登录</h1>
                <form class="form" id="entry_form">
                    <input type="text" placeholder="用户名" id="entry_name" value="admin">
                    <input type="password" placeholder="密码" id="entry_password">
                    <button type="button" id="entry_btn">登录</button>
                    <div id="prompt" class="prompt"></div>
                </form>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        $(function () {
            Victor("container", "output"); //登录背景函数
            $("#entry_name").focus();
            // $(document).keydown(function (event) {
            //     if (event.keyCode == 13) {
            //         $("#entry_btn").click();
            //     }
            // });
            var btnFlag = false
            $("#entry_btn").click(function () {
                if(btnFlag) {
                    return;
                }
                btnFlag = true
                if(!$('#entry_name').val()) {
                    btnFlag = false
                    alert('账号不能为空')
                }else if(!$('#entry_password').val()) {
                    btnFlag = false
                    alert('密码不能为空')
                }else {
                    mockApi.login(function (res) {
                        btnFlag = false
                        if(res) {
                            
                        }else {
                            alert('登录错误，请核对用户名及密码。或者稍后有网重尝试')
                        }
                    })
                }
            })
        });
    </script>
    <script type="text/javascript">
        (function () {
            var s = "_" + Math.random().toString(36).slice(2);
            document.write('<div style="" id="' + s + '"></div>');
            (window.slotbydup = window.slotbydup || []).push({
                id: "u4923786",
                container: s
            });
        })();
    </script>
    <div id="_xyyg8u7ts3d"></div>

</body>

</html>